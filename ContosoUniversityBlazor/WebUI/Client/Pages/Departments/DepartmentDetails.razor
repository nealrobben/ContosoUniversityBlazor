@page "/departments/{id}"
@using WebUI.Shared
@using WebUI.Shared.Departments.Queries.GetDepartmentDetails
@inject DepartmentService DepartmentService

<h1>Details</h1>

<div>
    <h4>Department</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            Name
        </dt>
        <dd class="col-sm-10">
            @if (department != null)
            {
                @department.Name
            }
        </dd>
        <dt class="col-sm-2">
            Budget
        </dt>
        <dd class="col-sm-10">
            @if (department != null)
            {
                @department.Budget.ToString("F")
            }
        </dd>
        <dt class="col-sm-2">
            StartDate
        </dt>
        <dd class="col-sm-10">
            @if (department != null)
            {
                @department.StartDate.ToShortDateString()
            }
        </dd>
        <dt class="col-sm-2">
            AdministratorName
        </dt>
        <dd class="col-sm-10">
            @if (department != null)
            {
                @department.AdministratorName
            }
        </dd>
    </dl>
</div>
<div>
    <a href=@($"/departments/edit/{item.DepartmentID}")>Edit</a> |
    <a href="/departments">Back to List</a>
</div>

@code {

    [Parameter]
    public string id { get; set; }

    private DepartmentDetailVM department;

    protected override async Task OnInitializedAsync()
    {
        department = await DepartmentService.GetAsync(id);
    }
}
